
{% extends 'content/app_base.html' %}

{% load static %}
{% load wagtailcore_tags %}

{% block title %}
    {{ page.title }}
{% endblock %}

{% block content %}
    <div id="article">
        <h1>{{ page.title.upper }}</h1>
        <h5>{{ page.first_published_at|date:"d / m / Y" }} {{ page.owner }}</h5>

        <ul id="tip-tags" class="clearfix">
        {% for tag in page.tags.all %}
            <li class="tip-tag">{{ tag.name.upper }}</li>
        {% endfor %}
        </ul>

        <div id="slider" class="swipe">
            <div class="swipe-wrap">
            {% for block in page.body %}
                {% if block.block_type == 'paragraph' %}
                <div>
                    <p>{% include_block block %}</p>
                </div>
                {% endif %}
            {% endfor %}
            </div>
        </div>

        <div>
        {% if page.body %}
        <div id="tip-nav">
            <button onclick="mySwipe.prev()">PREV</button>
            <ul>
            {% for block in page.body %}
                {% if block.block_type == 'paragraph' %}
                    <li>&#8226</li>
                {% endif %}
            {% endfor %}
            </ul>
            <button onclick="mySwipe.next()">NEXT</button>
        </div>
        {% endif %}
        </div>
    </div>

    <script language="JavaScript" src="{% static 'vendor/swipe.min.js' %}"></script>
    <script language="JavaScript">
        window.mySwipe = new Swipe(document.getElementById('slider'));
    </script>
{% endblock %}