/*!
 * Swipe 2.1.1
 *
 * Brad Birdsall
 * Copyright 2013, MIT License
 *
*/
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.Swipe=b(a)}):"object"==typeof exports?module.exports=b(a):a.Swipe=b(a)}(this,function(a){function Swipe(c,d){"use strict";function e(){if(u=y.children,x=u.length,u.length<2&&(d.continuous=!1),t.transitions&&d.continuous&&u.length<3){var b=u[0].cloneNode(!0),f=y.children[1].cloneNode(!0);y.appendChild(b),y.appendChild(f),b.setAttribute("data-cloned",!0),f.setAttribute("data-cloned",!0),u=y.children}v=new Array(u.length),w=c.getBoundingClientRect().width||c.offsetWidth,y.style.width=u.length*w*2+"px";for(var g=u.length;g--;){var i=u[g];i.style.width=w+"px",i.setAttribute("data-index",g),t.transitions&&(i.style.left=g*-w+"px",k(g,z>g?-w:z<g?w:0,0))}d.continuous&&t.transitions&&(k(h(z-1),-w,0),k(h(z+1),w,0)),t.transitions||(y.style.left=z*-w+"px"),c.style.visibility="visible",t.addEventListener?(t.touch&&y.addEventListener("touchstart",D,!1),d.draggable&&y.addEventListener("mousedown",D,!1),t.transitions&&(y.addEventListener("webkitTransitionEnd",D,!1),y.addEventListener("msTransitionEnd",D,!1),y.addEventListener("oTransitionEnd",D,!1),y.addEventListener("otransitionend",D,!1),y.addEventListener("transitionend",D,!1)),a.addEventListener("resize",D,!1)):a.onresize=function(){e()}}function f(){d.continuous?j(z-1):z&&j(z-1)}function g(){d.continuous?j(z+1):z<u.length-1&&j(z+1)}function h(a){return(u.length+a%u.length)%u.length}function i(){var a=z;return a>=x&&(a-=x),a}function j(a,b){if(a="number"!=typeof a?parseInt(a,10):a,z!==a){if(t.transitions){var c=Math.abs(z-a)/(z-a);if(d.continuous){var e=c;c=-v[h(a)]/w,c!==e&&(a=-c*u.length+a)}for(var f=Math.abs(z-a)-1;f--;)k(h((a>z?a:z)-f-1),w*c,0);a=h(a),k(z,w*c,b||A),k(a,0,b||A),d.continuous&&k(h(a-c),-(w*c),0)}else a=h(a),m(z*-w,a*-w,b||A);z=a,s(function(){d.callback&&d.callback(i(),u[z])})}}function k(a,b,c){l(a,b,c),v[a]=b}function l(a,b,c){var d=u[a],e=d&&d.style;e&&(e.webkitTransitionDuration=e.MozTransitionDuration=e.msTransitionDuration=e.OTransitionDuration=e.transitionDuration=c+"ms",e.webkitTransform="translate("+b+"px,0)translateZ(0)",e.msTransform=e.MozTransform=e.OTransform="translateX("+b+"px)")}function m(a,b,c){if(!c)return void(y.style.left=b+"px");var e=+new Date,f=setInterval(function(){var g=+new Date-e;return g>c?(y.style.left=b+"px",E&&n(),d.transitionEnd&&d.transitionEnd.call(event,i(),u[z]),void clearInterval(f)):void(y.style.left=(b-a)*(Math.floor(g/c*100)/100)+a+"px")},4)}function n(){B=setTimeout(g,E)}function o(){E=0,clearTimeout(B)}function p(){o(),E=d.auto||0,n()}function q(a){return/^mouse/.test(a.type)}var r=function(){},s=function(a){setTimeout(a||r,0)},t={addEventListener:!!a.addEventListener,touch:"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch,transitions:function(a){var b=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var c in b)if(void 0!==a.style[b[c]])return!0;return!1}(b.createElement("swipe"))};if(c){var u,v,w,x,y=c.children[0];d=d||{};var z=parseInt(d.startSlide,10)||0,A=d.speed||300;d.continuous=void 0===d.continuous||d.continuous,d.autoRestart=void 0!==d.autoRestart&&d.autoRestart;var B,C,D={handleEvent:function(a){switch(a.type){case"mousedown":case"touchstart":this.start(a);break;case"mousemove":case"touchmove":this.move(a);break;case"mouseup":case"mouseleave":case"touchend":this.end(a);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":this.transitionEnd(a);break;case"resize":s(e)}d.stopPropagation&&a.stopPropagation()},start:function(a){var b;q(a)?(b=a,a.preventDefault()):b=a.touches[0],F={x:b.pageX,y:b.pageY,time:+new Date},C=void 0,G={},q(a)?(y.addEventListener("mousemove",this,!1),y.addEventListener("mouseup",this,!1),y.addEventListener("mouseleave",this,!1)):(y.addEventListener("touchmove",this,!1),y.addEventListener("touchend",this,!1))},move:function(a){var b;if(q(a))b=a;else{if(a.touches.length>1||a.scale&&1!==a.scale)return;d.disableScroll&&a.preventDefault(),b=a.touches[0]}G={x:b.pageX-F.x,y:b.pageY-F.y},"undefined"==typeof C&&(C=!!(C||Math.abs(G.x)<Math.abs(G.y))),C||(a.preventDefault(),o(),d.continuous?(l(h(z-1),G.x+v[h(z-1)],0),l(z,G.x+v[z],0),l(h(z+1),G.x+v[h(z+1)],0)):(G.x=G.x/(!z&&G.x>0||z===u.length-1&&G.x<0?Math.abs(G.x)/w+1:1),l(z-1,G.x+v[z-1],0),l(z,G.x+v[z],0),l(z+1,G.x+v[z+1],0)))},end:function(a){var b=+new Date-F.time,c=Number(b)<250&&Math.abs(G.x)>20||Math.abs(G.x)>w/2,e=!z&&G.x>0||z===u.length-1&&G.x<0;d.continuous&&(e=!1);var f=G.x<0;C||(c&&!e?(f?(d.continuous?(k(h(z-1),-w,0),k(h(z+2),w,0)):k(z-1,-w,0),k(z,v[z]-w,A),k(h(z+1),v[h(z+1)]-w,A),z=h(z+1)):(d.continuous?(k(h(z+1),w,0),k(h(z-2),-w,0)):k(z+1,w,0),k(z,v[z]+w,A),k(h(z-1),v[h(z-1)]+w,A),z=h(z-1)),d.callback&&d.callback(i(),u[z])):d.continuous?(k(h(z-1),-w,A),k(z,0,A),k(h(z+1),w,A)):(k(z-1,-w,A),k(z,0,A),k(z+1,w,A))),q(a)?(y.removeEventListener("mousemove",D,!1),y.removeEventListener("mouseup",D,!1),y.removeEventListener("mouseleave",D,!1)):(y.removeEventListener("touchmove",D,!1),y.removeEventListener("touchend",D,!1))},transitionEnd:function(a){parseInt(a.target.getAttribute("data-index"),10)===z&&((E||d.autoRestart)&&p(),d.transitionEnd&&d.transitionEnd.call(a,i(),u[z]))}},E=d.auto||0,F={},G={};return e(),E&&n(),{setup:function(){e()},slide:function(a,b){o(),j(a,b)},prev:function(){o(),f()},next:function(){o(),g()},restart:function(){p()},stop:function(){o()},getPos:function(){return i()},getNumSlides:function(){return x},kill:function(){o(),c.style.visibility="",y.style.width="",y.style.left="";for(var b=u.length;b--;){t.transitions&&l(b,0,0);var d=u[b];if(d.getAttribute("data-cloned")){var e=d.parentElement;e.removeChild(d)}d.style.width="",d.style.left="",d.style.webkitTransitionDuration=d.style.MozTransitionDuration=d.style.msTransitionDuration=d.style.OTransitionDuration=d.style.transitionDuration="",d.style.webkitTransform=d.style.msTransform=d.style.MozTransform=d.style.OTransform=""}t.addEventListener?(y.removeEventListener("touchstart",D,!1),y.removeEventListener("mousedown",D,!1),y.removeEventListener("webkitTransitionEnd",D,!1),y.removeEventListener("msTransitionEnd",D,!1),y.removeEventListener("oTransitionEnd",D,!1),y.removeEventListener("otransitionend",D,!1),y.removeEventListener("transitionend",D,!1),a.removeEventListener("resize",D,!1)):a.onresize=null}}}}var b=a.document;return(a.jQuery||a.Zepto)&&!function(a){a.fn.Swipe=function(b){return this.each(function(){a(this).data("Swipe",new Swipe(a(this)[0],b))})}}(a.jQuery||a.Zepto),Swipe});